(()=>{"use strict";(t=>{const e=document.getElementById("timer"),o=document.getElementById("timer-hours"),r=document.getElementById("timer-minutes"),a=document.getElementById("timer-seconds");let s,n=document.createElement("p");const l=()=>{let c=(()=>{let e=(new Date).getTime(),o=(Date.parse(t)-e)/1e3;return{timeRemaining:o,days:Math.floor(o/60/60/24),hours:Math.floor(o/60/60%24),minutes:Math.floor(o/60%60),seconds:Math.floor(o%60)}})();const i=t=>t<10?"0"+t:t;o.textContent=i(c.hours),r.textContent=i(c.minutes),a.textContent=i(c.seconds),n.setAttribute("id","timer-days"),n.textContent=`${i(c.days)} Дн.`,e.prepend(n),clearInterval(s),c.timeRemaining>0?s=setInterval(l,1e3):c.timeRemaining<=0&&(n.textContent="0 Дн.",o.textContent=i(0),r.textContent=i(0),a.textContent=i(0))};l()})("7 march 2023"),(()=>{const t=document.querySelector("body"),e=document.querySelector("menu");let o;const r=()=>{e.classList.toggle("active-menu")},a=t=>{t.preventDefault(),o=t.target.hasAttributes("href")&&"A"===t.target.tagName?t.target.getAttribute("href").substr(1):t.target.parentNode.getAttribute("href").substr(1),document.getElementById(o).scrollIntoView({behavior:"smooth",block:"start"})};t.addEventListener("click",(t=>{t.target.matches(".close-btn")||t.target.closest(".menu")?r():t.target.closest("#link_service")?a(t):t.target.closest("ul>li>a")?(a(t),r()):t.target!==e.closest(".active-menu")&&e.classList.remove("active-menu")}))})(),(()=>{const t=document.querySelectorAll(".popup-btn"),e=document.querySelector(".popup "),o=e.querySelector(".popup-content");let r=0;const a=()=>{r++,e.clientWidth>768?(o.style.left=r*e.clientWidth/150+"px",o.style.opacity=.02*r,r<50&&requestAnimationFrame(a)):(o.style.opacity="",o.style.left="")},s=()=>{e.style.display?(r=0,e.style.display="",cancelAnimationFrame(a)):(e.style.display="flex",requestAnimationFrame(a))};t.forEach((t=>t.addEventListener("click",s))),e.addEventListener("click",(t=>{(t.target.classList.contains("popup-close")||t.target===e)&&s()}))})(),(()=>{const t=document.querySelectorAll(".calc-item~input");let e,o=document.createElement("span");const r=()=>{o.remove()};t.forEach((t=>{var a;(a=t).addEventListener("input",(t=>{r(),/\D+/.test(t.target.value.trim())?(e="Введите число",((t,e)=>{o.style.display="block",o.classList.add("error"),o.style.color="red",o.style.position="absolute",o.style.top="0px",o.style.right="77px",o.style.padding="5px",o.style.background="#fff",o.textContent="Введите число",t.before(o)})(a),t.target.value=t.target.value.replace(/\D+/,"")):(r(),t.target.value)}))}))})(),(()=>{const t=document.querySelectorAll('input[type="text"]'),e=document.querySelectorAll('input[type="email"]'),o=document.querySelector(".mess"),r=document.querySelectorAll('input[type="tel"]');let a,s=document.createElement("span");const n=()=>{s.remove()},l=(t,e)=>{s.style.display="block",s.classList.add("error"),s.style.color="red",s.style.position="absolute",s.style.bottom="80px",s.style.right="77px",s.style.padding="5px",s.style.background="#fff",s.textContent=e,t.before(s)},c=t=>{t.addEventListener("input",(e=>{n(),/[а-я-\s]+/gi.test(e.target.value.trim())?(n(),e.target.value):(a="Можно использовать кириллицу, пробел или дефис",l(t,a),e.target.value=e.target.value.replace(/[a-z\s]+/gi,""))}))};t.forEach((t=>{t.hasAttribute("name")&&c(t)})),e.forEach((t=>{var e;(e=t).addEventListener("input",(t=>{/(([\-\.\_\~\*\'\d\w]+)(@)([\w]+\.)+([\w]{2,4}))/gi.test(t.target.value)?(n(),t.target.value):(l(e,a),a="Введите верный e-mail")}))})),r.forEach((t=>{var e;(e=t).addEventListener("input",(t=>{/^((8|\+375|\+7)[\- ]?)?\(?\d{2,3}\)?[\- ]?\d{1}[\- ]?\d{1}[\- ]?\d{1}[\- ]?\d{1}[\- ]?\d{1}(([\- ]?\d{1})?[\- ]?\d{1})?$/.test(t.target.value)?(n(),t.target.value):(l(e,a),a="Номер должен начинаться с +7, 8 или +375")}))})),o.addEventListener("input",(()=>{c(o)}))})(),(()=>{const t=document.querySelector(".service-header"),e=document.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");t.addEventListener("click",(t=>{if(t.target.closest(".service-header-tab")){const r=t.target.closest(".service-header-tab");e.forEach(((t,e)=>{t===r?(t.classList.add("active"),o[e].classList.remove("d-none")):(t.classList.remove("active"),o[e].classList.add("d-none"))}))}}))})(),(()=>{const t=document.querySelector(".portfolio-content"),e=document.querySelectorAll(".portfolio-item");let o,r=document.querySelectorAll(".dot"),a=0;const s=(t,e,o)=>{t[e].classList.remove(o)},n=(t,e,o)=>{t[e].classList.add(o)},l=()=>{r=document.querySelectorAll(".dot"),s(e,a,"portfolio-item-active"),s(r,a,"dot-active"),a++,a>=e.length&&(a=0),n(e,a,"portfolio-item-active"),n(r,a,"dot-active")},c=(t=1500)=>{o=setInterval(l,t)};t.addEventListener("click",(t=>{t.preventDefault(),t.target.matches(".dot, .portfolio-btn")&&(s(e,a,"portfolio-item-active"),s(r,a,"dot-active"),t.target.matches("#arrow-right")?a++:t.target.matches("#arrow-left")?a--:t.target.classList.contains("dot")&&r.forEach(((e,o)=>{t.target===e&&(a=o)})),a>=e.length&&(a=0),a<0&&(a=e.length-1),n(e,a,"portfolio-item-active"),n(r,a,"dot-active"))})),t.addEventListener("mouseenter",(t=>{t.target.matches(".dot, .portfolio-btn")&&clearInterval(o)}),!0),t.addEventListener("mouseleave",(t=>{t.target.matches(".dot, .portfolio-btn")&&c(3500)}),!0),((t,e)=>{const o=document.createElement("ul");o.classList.add("portfolio-dots"),t.forEach(((t,e)=>{const r=document.createElement("li");r.classList.add("dot"),0==e&&r.classList.add("dot-active"),o.append(r)})),e.append(o)})(e,t),c(3500)})()})();